<html xmlns:th="http://www.thymeleaf.org"
   xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity5"
   xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
   layout:decorate="~{/layouts/payment_template}"
   >
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /> 
<meta id="_csrf" name="_csrf" th:content="${_csrf.token}"/>
<meta id="_csrf_header" name="_csrf_header" th:content="${_csrf.headerName}"/>  
<title>정산페이지</title>


</head>
<body>
<div layout:fragment="content">
	<h1><img src="/image/img_ongle_sub.png" style="width:100px; align-self: left"></h1>
	<div>
	   <form id="listForm" method="POST">
	   		<input id="nowDate" name="nowDate" type="hidden" th:value="${setDate}"/>
	   		<input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}"/>
			
			<div class="flat-title">
				<div class="search">
					<select id="selete_year_select" name="p_year_select" class="form-control w-25" >
						<option value="" selected>연도</option>
					</select>&nbsp;
					<select id="selete_month_select" name="p_month_select" class="form-control w-25" >
						<option value="" selected>월</option>
						<option value="01월">1월</option>
						<option value="02월">2월</option>
						<option value="03월">3월</option>
						<option value="04월">4월</option>
						<option value="05월">5월</option>
						<option value="06월">6월</option>
						<option value="07월">7월</option>
						<option value="08월">8월</option>
						<option value="09월">9월</option>
						<option value="10월">10월</option>
						<option value="11월">11월</option>
						<option value="12월">12월</option>
					</select>
					<button type="submit" id="btnSelect" class="btn btn-success ">
						<span class="icon text-white-50">
				                   <i class="fas fa-check"></i>
				                   </span>
						<span class="text">조회</span>
					</button>
				</div>
			</div>
			
			<div style="overflow:scroll; height:500px;">
			<div class="card-body">
		   <table border="1">
		      <tr>
		         <th align="center">작가명</th>
		         <th align="center">본명</th>
		         <th align="center">주민등록번호</th>
		         <th align="center">계좌번호</th>
		         <th align="center">북큐브</th>
		         <th align="center">이퍼브</th>
		         <th align="center">조아라</th>
		         <th align="center">카카오페이지</th>
		         <th align="center">교보문고</th>
		         <th align="center">미스터블루</th>
		         <th align="center">문피아</th>
		         <th align="center">네이버</th>
		         <th align="center">리디북스</th>
		         <th align="center">로망띠끄</th>
		         <th align="center">톡소다</th>
		         <th align="center">원스토어</th>
		         <th align="center">예스24</th>
		         <th align="center">알라딘</th>
		         <th align="center">총매출</th>
		         <th align="center">정산비율</th>
		         <th align="center">작가정산액</th>
		         <th align="center">이월정산액</th>
		         <th align="center">정산액합계</th>
		         <th align="center">선인세</th>
		         <th align="center">소득세</th>
		         <th align="center">원천징수세</th>
		         <th align="center">작가지급액</th>
		      </tr>
		      
		      <tr th:if="${#lists.isEmpty(paymentList)}">
		         <td colspan="100">
		            List is empty.
		         </td>
		      </tr>
		      
		      <tr th:each="paymentL : ${paymentList}">
		        <td><input style="text-align:center;" readonly="readonly" type="text" name="author" th:value="${paymentL.author}"/></td>
		        <td><input style="text-align:center;" readonly="readonly" type="text" name="realName" th:value="${paymentL.realName}"/></td>
		        <td><input style="text-align:center;" readonly="readonly" type="text" name="ctzNumber" th:value="${paymentL.ctzNumber}"/></td>
		        <td><input style="text-align:center;" readonly="readonly" type="text" name="accountNumber" th:value="${paymentL.accountNumber}"/></td>
		        <td><input style="text-align:center;" readonly="readonly" type="text" name="payBookcube" th:value="${paymentL.payBookcube}"/></td>
		        <td><input style="text-align:center;" readonly="readonly" type="text" name="payEpub" th:value="${paymentL.payEpub}"/></td>
		        <td><input style="text-align:center;" readonly="readonly" type="text" name="payJoara" th:value="${paymentL.payJoara}"/></td>
		        <td><input style="text-align:center;" readonly="readonly" type="text" name="payKakao" th:value="${paymentL.payKakao}"/></td>
		        <td><input style="text-align:center;" readonly="readonly" type="text" name="payKyobo" th:value="${paymentL.payKyobo}"/></td>
		        <td><input style="text-align:center;" readonly="readonly" type="text" name="payMrblue" th:value="${paymentL.payMrblue}"/></td>
		        <td><input style="text-align:center;" readonly="readonly" type="text" name="payMunpia" th:value="${paymentL.payMunpia}"/></td>
		        <td><input style="text-align:center;" readonly="readonly" type="text" name="payNaver" th:value="${paymentL.payNaver}"/></td>
		        <td><input style="text-align:center;" readonly="readonly" type="text" name="payRidibooks" th:value="${paymentL.payRidibooks}"/></td>
		        <td><input style="text-align:center;" readonly="readonly" type="text" name="payRomance" th:value="${paymentL.payRomance}"/></td>
		        <td><input style="text-align:center;" readonly="readonly" type="text" name="payTocsoda" th:value="${paymentL.payTocsoda}"/></td>
		        <td><input style="text-align:center;" readonly="readonly" type="text" name="payWinstore" th:value="${paymentL.payWinstore}"/></td>
		        <td><input style="text-align:center;" readonly="readonly" type="text" name="payYes24" th:value="${paymentL.payYes24}"/></td>
		        <td><input style="text-align:center;" readonly="readonly" type="text" name="payAladin" th:value="${paymentL.payAladin}"/></td>
		        <td><input style="text-align:center;" readonly="readonly" type="text" name="allPayment" th:value="${paymentL.allPayment}"/></td>
		        <td><input style="text-align:center;" readonly="readonly" type="text" name="settlementRatio" th:value="${paymentL.settlementRatio}"/></td>
		        <td><input style="text-align:center;" readonly="readonly" type="text" name="authorSettlement" th:value="${paymentL.authorSettlement}"/></td>
		        <td><input style="text-align:center;" readonly="readonly" type="text" name="carryAmount" th:value="${paymentL.carryAmount}"/></td>
		        <td><input style="text-align:center;" readonly="readonly" type="text" name="payment" th:value="${paymentL.payment}"/></td>
		        <td><input style="text-align:center;" readonly="readonly" type="text" name="virtuousTax" th:value="${paymentL.virtuousTax}"/></td>
		        <td><input style="text-align:center;" readonly="readonly" type="text" name="incomeTax" th:value="${paymentL.incomeTax}"/></td>
		        <td><input style="text-align:center;" readonly="readonly" type="text" name="wthldTax" th:value="${paymentL.wthldTax}"/></td>
		        <td><input style="text-align:center;" readonly="readonly" type="text" name="authorPaid" th:value="${paymentL.authorPaid}"/></td>
		      </tr>
		   </table>
		   </div>
		   </div>
	   </form>
	</div> 
	
	<div>
		<th:block sec:authorize="hasRole('ROLE_USER')">
		<select style="display:none" id="selete_year" name="p_year" class="ui compact selection dropdown" >
				<option value="" selected>연도</option>
		</select>&nbsp;
		</th:block>
	
		<th:block sec:authorize="hasRole('ROLE_ADMIN')">
		<select id="selete_year" name="p_year" class="ui compact selection dropdown" >
				<option value="" selected>연도</option>
		</select>&nbsp;
		<select id="selete_month" name="p_month" class="ui compact selection dropdown" >
			<option value="" selected>월</option>
			<option value="01월">1월</option>
			<option value="02월">2월</option>
			<option value="03월">3월</option>
			<option value="04월">4월</option>
			<option value="05월">5월</option>
			<option value="06월">6월</option>
			<option value="07월">7월</option>
			<option value="08월">8월</option>
			<option value="09월">9월</option>
			<option value="10월">10월</option>
			<option value="11월">11월</option>
			<option value="12월">12월</option>
		</select>
		
		<div>
		
			<!-- 
			<button type="submit" id="btnDownload" class="btn btn-primary mr-2" >
		  		<span class="icon text-white-50"><i class="fas fa-download"></i></span>
				<span class="text">파일다운로드</span>
			</button>
			 -->
			<button type="submit" onclick="func_payment();" id="btnPayment" class="btn btn-info mr-2">
				<span class="icon text-white-50"><i class="fas fa-info-circle"></i></span>
				<span class="text">정산TEST</span>
			</button>
			<button type="submit" onclick="func_finalPayment();" id="btnPayment" class="btn btn-danger mr-2">
				<span class="icon text-white-50"><i class="fas fa-trash"></i></span>
				<span class="text">최종정산</span>
			</button>
			</th:block>
			<button type="submit" id="btnDownLoad" class="btn btn-primary mr-2">
			  		<span class="icon text-white-50"><i class="fas fa-download"></i></span>
					<span class="text">파일다운로드</span>
			</button>				
		</div>
		

	</div>
</div>
</body>
</html>